<!DOCTYPE html>
<meta charset="UTF-8">
<link rel="stylesheet" href="qunit-1.11.0.css">
<h1 id="qunit-header">Core</h1>
<h2 id="qunit-banner"></h2>
<h2 id="qunit-userAgent"></h2>
<ol id="qunit-tests">
</ol>
<script src="qunit-1.11.0.js"></script>
<script src="core.js"></script>
<script type="text/ls">
test \global,->
  ok global?,'global is object'
  equal global.global,global,'global.global is global'
  global.__foo={}
  equal __foo,global.__foo,'global is global object'
test \iz,->
  equal typeof iz,\function,'iz is function'
  ok !iz(null),'!iz(null)'
  ok !iz(void),'!iz(void)'
  ok iz(no),'iz(no)'
  ok iz({}),'iz({})'
  ok iz(void,\undefined),'iz(void,"undefined")'
  ok iz(1,\number),'iz(1,"number")'
  ok !iz(new Number(1),\number),'!iz(new Number(1),"number")'
  ok iz('',\string),'iz("","string")'
  ok !iz(new String(''),\string),'!iz(new String(""),"string")'
  ok iz(no,\boolean),'iz(no,"boolean")'
  ok !iz(new Boolean(no),\boolean),'!iz(new Boolean(no),"boolean")'
  ok iz(null,\null)||iz(null,\object),'iz(null,"null")||iz(null,"object")'
  ok iz(->,\function),'iz(->,"function")'
  ok iz({},\object),'iz({},"object")'
  ok iz(new Number,\object),'iz(new Number,"object")'
  ok iz([],\object),'iz([],"object")'
  ok iz(new ->,\object),'iz(new ->,"object")'
  ok !iz(5,\object),'!iz(5,"object")'
  ok iz(null,\Null),'iz(null,"Null")'
  ok iz(void,\Undefined),'iz(void,"Undefined")'
  ok iz('',\String),'iz("","String")'
  ok iz(new String(''),\String),'iz(new String(""),"String")'
  ok iz(5,\Number),'iz(5,"Number")'
  ok iz(new Number(5),\Number),'iz(new Number(5),"Number")'
  ok iz(no,\Boolean),'iz(no,"Boolean")'
  ok iz(new Boolean(no),\Boolean),'iz(new Boolean(no),"Boolean")'
  ok iz(do->&,\Arguments)||iz(do->&,\Object),'iz(do->&,"Arguments")||iz(do->&,"Object")'
  ok iz(/./,\RegExp),'iz(/./,"RegExp")'
  ok iz(TypeError!,\Error),'iz(TypeError!,"Error")'
  ok iz({},\Object),'iz({},"Object")'
  ok iz(new (->),\Object),'iz(new (->),"Object")'
  ok iz([],\Array),'iz([],"Array")'
  ok iz(->,\Function),'iz(->,"Function")'
  ok !iz([],\Null),'!iz([],"Null")'
  ok !iz(new Number(5),\Object),'!iz(new Number(5),"Object")'
  ok !iz(->,\Object),'!iz(->,"Object")'
  ok !iz(do->&,\Array),'!iz(do->&,"Array")'
  ok iz([],Array),'iz([],Array)'
  ok iz([],Object),'iz([],Object)'
  ok !iz([],RegExp),'!iz([],RegExp)'
  ok iz(/./,RegExp),'iz(/./,RegExp)'
  ok iz({},Object),'iz({},Object)'
test 'iz.Type(Of)',->
  ok iz.Fn(iz.TypeOf),'iz.TypeOf is function'
  equal iz.TypeOf,iz.Type,'equal iz.TypeOf,iz.Type'
  equal iz.Type(void),\undefined,'equal iz.Type(void),"undefined"'
  equal iz.Type(1),\number,'equal iz.Type(1),"number"'
  equal iz.Type(no),\boolean,'equal iz.Type(no),"boolean"'
  equal iz.Type(''),\string,'equal iz.Type(""),"string"'
  equal iz.Type([]),\object,'equal iz.Type([]),"object"'
  equal iz.Type(->),\function,'equal iz.Type(->),"function"'
  ok iz.Type(void,\undefined),'iz.Type(void,"undefined")'
  ok iz.Type(1,\number),'iz.Type(1,"number")'
  ok iz.Type(no,\boolean),'iz.Type(no,"boolean")'
  ok iz.Type('',\string),'iz.Type("","string")'
  ok iz.Type([],\object),'iz.Type([],"object")'
  ok iz.Type(->,\function),'iz.Type(->,"function")'
  ok !iz.Type(->,\object),'!iz.Type(->,"object")'
  ok !iz.Type('',\object),'!iz.Type("","object")'
  ok iz.Type(null,\object)||iz.Type(null,'null'),'iz.Type(null,"object")||iz.Type(null,"null")'
  ok !iz.Type(->,\number,\object),'!iz.Type(->,"number","object")'
  ok iz.Type(->,\number,\function),'iz.Type(->,"number","function")'
  ok iz.Type(null,\null,\object),'iz.Type(null,"null","object")'
test 'iz.Class(Of)',->
  ok iz.Fn(iz.ClassOf),'iz.ClassOf is function'
  equal iz.ClassOf,iz.Class,'iz.ClassOf equal iz.Class'
  equal iz.Class(void),\Undefined,'iz.Class(void),"Undefined"'
  equal iz.Class(null),\Null,'iz.Class(null),"Null"'
  equal iz.Class(no),\Boolean,'iz.Class(no),"Boolean"'
  equal iz.Class(new Boolean no),\Boolean,'iz.Class(new Boolean no),"Boolean"'
  equal iz.Class(''),\String,'iz.Class(""),"String"'
  equal iz.Class(new String ''),\String,'iz.Class(new String ""),"String"'
  equal iz.Class(7),\Number,'iz.Class(7),"Number"'
  equal iz.Class(new Number 7),\Number,'iz.Class(new Number 7),"Number"'
  equal iz.Class([]),\Array,'iz.Class([]),"Array"'
  equal iz.Class(->),\Function,'iz.Class(->),"Function"'
  equal iz.Class(/./),\RegExp,'iz.Class(/./),"RegExp"'
  equal iz.Class(TypeError!),\Error,'iz.Class(TypeError!),"Error"'
  ok iz.Class(void,\Undefined),'iz.Class(void,"Undefined")'
  ok iz.Class(null,\Null),'iz.Class(null,"Null")'
  ok iz.Class(no,\Boolean),'iz.Class(no,"Boolean")'
  ok iz.Class(new Boolean(no),\Boolean),'iz.Class(new Boolean(no),"Boolean")'
  ok iz.Class('',\String),'iz.Class("","String")'
  ok iz.Class(new String(''),\String),'iz.Class(new String(""),"String")'
  ok iz.Class(7,\Number),'iz.Class(7,"Number")'
  ok iz.Class(new Number(7),\Number),'iz.Class(new Number(7),"Number")'
  ok iz.Class([],\Array),'iz.Class([],"Array")'
  ok iz.Class(->,\Function),'iz.Class(->,"Function")'
  ok iz.Class(/./,\RegExp),'iz.Class(/./,"RegExp")'
  ok iz.Class(TypeError!,\Error),'iz.Class(TypeError!,"Error")'
  ok iz.Class(do->&,\Arguments)||iz.Class(do->&,\Object),'iz.Class(do->&,"Arguments")||iz.Class(do->&,"Object")'
  ok !iz.Class([],\Object),'!iz.Class([],"Object")'
  ok !iz.Class(->,\Object),'!iz.Class(->,"Object")'
  ok !iz.Class(->,\Number,\Object),'!iz.Class(->,"Number","Object")'
  ok iz.Class(->,\Number,\Function),'iz.Class(->,"Number","Function")'
  ok iz.Class(do->&,\Arguments,\Object),'iz.Class(do->&,"Arguments","Object")'
test 'iz.Inst(anceOf)',->
  ok iz.Fn(iz.InstanceOf),'iz.InstanceOf is function'
  equal iz.InstanceOf,iz.Inst,'iz.InstanceOf equal iz.Inst'
  ok !iz.Inst({}),'iz.Inst with 1 argument return false'
  ok iz.Inst({},Object),'iz.Inst({},Object)'
  ok !iz.Inst({},Array),'!iz.Inst({},Array)'
  ok iz.Inst([],Object),'iz.Inst([],Object)'
  ok iz.Inst([],Array),'iz.Inst([],Array)'
  ok !iz.Inst([],Function),'!iz.Inst([],Function)'
  ok iz.Inst(new fn=->,fn),'iz.Inst(new fn=->,fn)'
  ok !iz.Inst(new ->,fn),'!iz.Inst(new ->,fn)'
  ok iz.Inst([],Function,Object),'iz.Inst([],Function,Object)'
  ok iz.Inst(->,Function,Object),'iz.Inst(->,Function,Object)'
  ok !iz.Inst([],Function,RegExp),'!iz.Inst([],Function,RegExp)'
test 'iz.Proto(typeOf)',->
  ok iz.Fn(iz.PrototypeOf),'iz.PrototypeOf is function'
  equal iz.PrototypeOf,iz.Proto,'iz.PrototypeOf equal iz.Proto'
  ok iz.Proto(Object::,{}),'iz.Proto(Object::,{})'
  ok iz.Proto(Object::,[]),'iz.Proto(Object::,[])'
  ok !iz.Proto(Array::,{}),'!iz.Proto(Array::,{})'
  ok iz.Proto(Array::,[]),'iz.Proto(Array::,[])'
  ok !iz.Proto(Function::,[]),'!iz.Proto(Function::,[])'
  ok iz.Proto(proto={},^^proto),'iz.Proto(proto={},^^proto)'
  ok !iz.Proto(proto,^^->),'!iz.Proto(proto,^^->)'
test 'iz.Obj(ect), iz.Prim(itive)',->
  ok iz.Fn(iz.Object),'iz.Object is function'
  equal iz.Object,iz.Obj,'iz.Object equal iz.Obj'
  ok iz.Fn(iz.Primitive),'iz.Primitive is function'
  equal iz.Primitive,iz.Prim,'iz.Primitive equal iz.Prim'
  ok !iz.Obj(void),'!iz.Obj(void)'
  ok !iz.Obj(null),'!iz.Obj(null)'
  ok !iz.Obj(1),'!iz.Obj(1)'
  ok iz.Obj(new Number 1),'iz.Obj(new Number 1)'
  ok !iz.Obj(''),'!iz.Obj("")'
  ok iz.Obj(new String 1),'iz.Obj(new String 1)'
  ok !iz.Obj(no),'!iz.Obj(no)'
  ok iz.Obj(new Boolean no),'iz.Obj(new Boolean no)'
  ok iz.Obj({}),'iz.Obj({})'
  ok iz.Obj([]),'iz.Obj([])'
  ok iz.Obj(/./),'iz.Obj(/./)'
  ok iz.Obj(new ->),'iz.Obj(new ->)'
  ok iz.Prim(void),'iz.Prim(void)'
  ok iz.Prim(null),'iz.Prim(null)'
  ok iz.Prim(1),'iz.Prim(1)'
  ok !iz.Prim(new Number 1),'!iz.Prim(new Number 1)'
  ok iz.Prim(''),'iz.Prim('')'
  ok !iz.Prim(new String 1),'!iz.Prim(new String 1)'
  ok iz.Prim(no),'iz.Prim(no)'
  ok !iz.Prim(new Boolean no),'!iz.Prim(new Boolean no)'
  ok !iz.Prim({}),'!iz.Prim({})'
  ok !iz.Prim([]),'!iz.Prim([])'
  ok !iz.Prim(/./),'!iz.Prim(/./)'
  ok !iz.Prim(new ->),'!iz.Prim(new ->)'
test 'iz.Undef(ined), iz.Null',->
  ok iz.Fn(iz.Undefined),'iz.Undefined is function'
  equal iz.Undefined,iz.Undef,'iz.Undefined equal iz.Undef'
  ok iz.Undef(void),'iz.Undef(void)'
  ok !iz.Undef(null),'!iz.Undef(null)'
  ok !iz.Undef(1),'!iz.Undef(1)'
  ok !iz.Undef(''),'!iz.Undef("")'
  ok !iz.Undef(no),'!iz.Undef(no)'
  ok !iz.Undef({}),'!iz.Undef({})'
  ok iz.Fn(iz.Null),'iz.Fn(iz.Null)'
  ok !iz.Null(void),'!iz.Null(void)'
  ok iz.Null(null),'iz.Null(null)'
  ok !iz.Null(1),'!iz.Null(1)'
  ok !iz.Null(''),'!iz.Null("")'
  ok !iz.Null(no),'!iz.Null(no)'
  ok !iz.Null({}),'!iz.Null({})'
test 'iz.Num(ber), iz.Str(ing), iz.Bool(ean)',->
  ok iz.Fn(iz.Number),'iz.Number is function'
  equal iz.Number,iz.Num,'iz.Number equal iz.Num'
  ok !iz.Num(void),'!iz.Num(void)'
  ok !iz.Num(null),'!iz.Num(null)'
  ok iz.Num(1),'iz.Num(1)'
  ok iz.Num(new Number 1),'iz.Num(new Number 1)'
  ok !iz.Num(''),'!iz.Num("")'
  ok !iz.Num(no),'!iz.Num(no)'
  ok !iz.Num({}),'!iz.Num({}),'
  ok iz.Fn(iz.String),'iz.String is function'
  equal iz.String,iz.Str,'iz.String equal iz.Str'
  ok !iz.Str(void),'!iz.Str(void)'
  ok !iz.Str(null),'!iz.Str(null)'
  ok !iz.Str(1),'!iz.Str(1)'
  ok iz.Str(''),'iz.Str("")'
  ok iz.Str(new String ''),'iz.Str(new String "")'
  ok !iz.Str(no),'!iz.Str(no)'
  ok !iz.Str({}),'!iz.Str({})'
  ok iz.Fn(iz.Boolean),'iz.Boolean is function'
  equal iz.Boolean,iz.Bool,'iz.Boolean equal iz.Bool'
  ok !iz.Bool(void),'!iz.Bool(void)'
  ok !iz.Bool(null),'!iz.Bool(null)'
  ok !iz.Bool(1),'!iz.Bool(1)'
  ok !iz.Bool(''),'!iz.Bool("")'
  ok iz.Bool(no),'iz.Bool(no)'
  ok iz.Bool(new Boolean no),'iz.Bool(new Boolean no)'
  ok !iz.Bool({}),'!iz.Bool({})'
test 'iz.Arr(ay), iz.Function / iz.Fn, iz.RegExp, iz.Date, iz.Error',->
  ok iz.Fn(iz.Array),'iz.Array is function'
  equal iz.Array,iz.Arr,'iz.Array equal iz.Arr'
  ok !iz.Arr(void),'!iz.Arr(void)'
  ok !iz.Arr(null),'!iz.Arr(null)'
  ok !iz.Arr(1),'!iz.Arr(1)'
  ok !iz.Arr(''),'!iz.Arr('')'
  ok !iz.Arr(no),'!iz.Arr(no)'
  ok !iz.Arr({}),'!iz.Arr({})'
  ok !iz.Arr(do->&),'!iz.Arr(do->&)'
  ok iz.Arr([1]),'iz.Arr([1])'
  equal typeof iz.Function,\function,'iz.Function is function'
  equal iz.Function,iz.Fn,'iz.Function equal iz.Fn'
  ok !iz.Fn(void),'!iz.Fn(void)'
  ok !iz.Fn(null),'!iz.Fn(null)'
  ok !iz.Fn(1),'!iz.Fn(1)'
  ok !iz.Fn(''),'!iz.Fn("")'
  ok !iz.Fn(no),'!iz.Fn(no)'
  ok !iz.Fn({}),'!iz.Fn({})'
  ok !iz.Fn(do->&),'!iz.Fn(do->&)'
  ok !iz.Fn([1]),'!iz.Fn([1])'
  ok !iz.Fn(/./),'!iz.Fn(/./)'
  ok iz.Fn(->),'iz.Fn(->)'
  ok iz.Fn(iz.RegExp),'iz.RegExp is function'
  ok !iz.RegExp(void),'!iz.RegExp(void)'
  ok !iz.RegExp(null),'!iz.RegExp(null)'
  ok !iz.RegExp(1),'!iz.RegExp(1)'
  ok !iz.RegExp(''),'!iz.RegExp("")'
  ok !iz.RegExp(no),'!iz.RegExp(no)'
  ok !iz.RegExp({}),'!iz.RegExp({})'
  ok !iz.RegExp(do->&),'!iz.RegExp(do->&)'
  ok !iz.RegExp([1]),'!iz.RegExp([1])'
  ok iz.RegExp(/./),'iz.RegExp(/./)'
  ok !iz.RegExp(->),'!iz.RegExp(->)'
  ok iz.Fn(iz.Date),'iz.Date is function'
  ok !iz.Date(void),'!iz.Date(void)'
  ok !iz.Date(null),'!iz.Date(null)'
  ok !iz.Date(1),'!iz.Date(1)'
  ok !iz.Date(''),'!iz.Date("")'
  ok !iz.Date(no),'!iz.Date(no)'
  ok !iz.Date({}),'!iz.Date({})'
  ok !iz.Date(do->&),'!iz.Date(do->&)'
  ok !iz.Date([1]),'!iz.Date([1])'
  ok !iz.Date(/./),'!iz.Date(/./)'
  ok !iz.Date(->),'!iz.Date(->)'
  ok iz.Date(new Date),'iz.Date(new Date)'
  ok iz.Fn(iz.Error),'iz.Error is function'
  ok !iz.Error(void),'!iz.Error(void)'
  ok !iz.Error(null),'!iz.Error(null)'
  ok !iz.Error(1),'!iz.Error(1)'
  ok !iz.Error(''),'!iz.Error("")'
  ok !iz.Error(no),'!iz.Error(no)'
  ok !iz.Error({}),'!iz.Error({})'
  ok !iz.Error(do->&),'!iz.Error(do->&)'
  ok !iz.Error([1]),'!iz.Error([1])'
  ok !iz.Error(/./),'!iz.Error(/./)'
  ok !iz.Error(->),'!iz.Error(->)'
  ok iz.Error(Error!),'iz.Error(Error!)'
  ok iz.Error(TypeError!),'iz.Error(TypeError!)'
test 'iz.Arguments / iz.Args',->
  ok iz.Fn(iz.Arguments),\function,'iz.Arguments is function'
  equal iz.Arguments,iz.Args,'iz.Arguments equal iz.Args'
  ok !iz.Args(void),'!iz.Args(void)'
  ok !iz.Args(null),'iz.Args 2'
  ok !iz.Args(1),'!iz.Args(null)'
  ok !iz.Args(''),'!iz.Args("")'
  ok !iz.Args(no),'!iz.Args(no)'
  ok !iz.Args({}),'!iz.Args({})'
  ok iz.Args(do->&),'iz.Args(do->&)'
  ok !iz.Args([1]),'!iz.Args([1])'
  ok !iz.Args(/./),'!iz.Args(/./)'
  ok !iz.Args(->),'!iz.Args(->)'
test 'iz.ArrayLike',->
  ok iz.Fn(iz.ArrayLike),'iz.ArrayLike is function'
  ok !iz.ArrayLike(void),'!iz.ArrayLike(void)'
  ok !iz.ArrayLike(null),'!iz.ArrayLike(null)'
  ok !iz.ArrayLike(1),'!iz.ArrayLike(1)'
  ok iz.ArrayLike(''),'iz.ArrayLike("")'
  ok !iz.ArrayLike(no),'!iz.ArrayLike(no)'
  ok !iz.ArrayLike({}),'!iz.ArrayLike({})'
  ok iz.ArrayLike(do->&),'iz.ArrayLike(do->&)'
  ok iz.ArrayLike([1]),'iz.ArrayLike([1])'
  ok !iz.ArrayLike(/./),'!iz.ArrayLike(/./)'
  ok !iz.ArrayLike(->),'!iz.ArrayLike(->)'
  ok iz.ArrayLike({length:0}),'iz.ArrayLike({length:0})'
  ok !iz.ArrayLike({length:0.5}),'!iz.ArrayLike({length:0.5})'
test 'iz.Empty',->
  ok iz.Fn(iz.Empty),'iz.Fn(iz.Empty)'
  ok iz.Empty(void),'iz.Empty(void)'
  ok iz.Empty(1),'iz.Empty(1)'
  ok iz.Empty(''),'iz.Empty("")'
  ok !iz.Empty(\q),'!iz.Empty(\q)'
  ok iz.Empty(no),'iz.Empty(no)'
  ok iz.Empty({}),'iz.Empty({})'
  ok !iz.Empty({q:1}),'!iz.Empty({q:1})'
  ok !iz.Empty((->&) 1),'!iz.Empty((->&) 1)'
  ok iz.Empty([]),'iz.Empty([])'
  ok !iz.Empty([1]),'!iz.Empty([1])'
  ok !iz.Empty({length:0}),'!iz.Empty({length:0})'
test 'iz.Native',->
  ok iz.Fn(iz.Native),'iz.Native is function'
  ok !iz.Native(void),'!iz.Native(void)'
  ok !iz.Native(null),'!iz.Native(null)'
  ok !iz.Native(1),'!iz.Native(1)'
  ok !iz.Native(''),'!iz.Native("")'
  ok !iz.Native(no),'!iz.Native(no)'
  ok !iz.Native({}),'!iz.Native({})'
  ok !iz.Native(do->&),'!iz.Native(do->&)'
  ok !iz.Native([1]),'!iz.Native([1])'
  ok !iz.Native(/./),'!iz.Native(/./)'
  ok !iz.Native(->),'!iz.Native(->)'
  ok iz.Native(Object::hasOwnProperty),'iz.Native(Object::hasOwnProperty)'
test 'iz.Plane',->
  ok iz.Fn(iz.Plane),'iz.Plane is function'
  ok !iz.Plane(void),'!iz.Plane(void)'
  ok !iz.Plane(null),'!iz.Plane(null)'
  ok !iz.Plane(1),'!iz.Plane(1)'
  ok !iz.Plane(''),'!iz.Plane("")'
  ok !iz.Plane(no),'!iz.Plane(no)'
  ok !iz.Plane({}),'iz.Plane({})'
  ok !iz.Plane(/./),'!iz.Plane(/./)'
  ok !iz.Plane(->),'!iz.Plane(->)'
  ok !iz.Plane(new ->),'!iz.Plane(new ->)'
  ok iz.Plane(Object.create(null)),'iz.Plane(Object.create(null))'
test 'iz.Own',->
  ok iz.Fn(iz.Own),'iz.Own is function'
  ok iz.Own({q:1},'q'),'iz.Own({q:1},"q")'
  ok !iz.Own({q:1},'w'),'!iz.Own({q:1},"w")'
  ok iz.Own([1],0),'iz.Own([1],0)'
  ok !iz.Own([],0),'!iz.Own([],0)'
  ok !iz.Own(^^{q:1},'q'),'!iz.Own(^^{q:1},"q")'
  ok !iz.Own({},\toString),'!iz.Own({},"toString")'
test 'iz.Enum(erable)',->
  ok iz.Fn(iz.Enumerable),'iz.Enumerable is function'
  equal iz.Enumerable,iz.Enum,'iz.Enumerable equal iz.Enum'
  ok iz.Enum(q:1,\q),'iz.Enum(q:1,"q")'
  ok !iz.Enum({},\toString),'!iz.Enum({},"toString")'
  ok !iz.Enum(^^{q:1},\q),'!iz.Enum(^^{q:1},"q")'
test 'iz.NaN, iz.Finite',->
  ok iz.Fn(iz.NaN),'iz.NaN is function'
  ok iz.NaN(NaN),'iz.NaN(NaN)'
  ok !iz.NaN(1),'!iz.NaN(1)'
  ok !iz.NaN(0.1),'!iz.NaN(0.1)'
  ok !iz.NaN(-1),'!iz.NaN(-1)'
  ok !iz.NaN(2^16),'!iz.NaN(2^16)'
  ok !iz.NaN(2^16 - 1),'!iz.NaN(2^16 - 1)'
  ok !iz.NaN(2^31),'!iz.NaN(2^31)'
  ok !iz.NaN(2^31 - 1),'!iz.NaN(2^31 - 1)'
  ok !iz.NaN(2^32),'!iz.NaN(2^32)'
  ok !iz.NaN(2^32 - 1),'!iz.NaN(2^32 - 1)'
  ok !iz.NaN(Infinity),'!iz.NaN(Infinity)'
  ok !iz.NaN('NaN'),'!iz.NaN("NaN")'
  ok !iz.NaN('5'),'!iz.NaN("5")'
  ok !iz.NaN(no),'!iz.NaN(no)'
  ok !iz.NaN(new Number NaN),'!iz.NaN(new Number NaN)'
  ok !iz.NaN(new Number Infinity),'!iz.NaN(new Number Infinity)'
  ok !iz.NaN(new Number 5),'!iz.NaN(new Number 5)'
  ok !iz.NaN(new Number 0.1),'!iz.NaN(new Number 0.1)'
  ok !iz.NaN(void),'!iz.NaN(void)'
  ok !iz.NaN(null),'!iz.NaN(null)'
  ok !iz.NaN({}),'!iz.NaN({})'
  ok !iz.NaN(->),'!iz.NaN(->)'
  ok !iz.NaN(-0),'!iz.NaN(-0)'
  ok iz.Fn(iz.Finite),'iz.Finite is function'
  ok !iz.Finite(NaN),'!iz.Finite(NaN)'
  ok iz.Finite(1),'iz.Finite(1)'
  ok iz.Finite(0.1),'iz.Finite(0.1)'
  ok iz.Finite(-1),'iz.Finite(-1)'
  ok iz.Finite(2^16),'iz.Finite(2^16)'
  ok iz.Finite(2^16 - 1),'iz.Finite(2^16 - 1)'
  ok iz.Finite(2^31),'iz.Finite(2^31)'
  ok iz.Finite(2^31 - 1),'iz.Finite(2^31 - 1)'
  ok iz.Finite(2^32),'iz.Finite(2^32)'
  ok iz.Finite(2^32 - 1),'iz.Finite(2^32 - 1)'
  ok !iz.Finite(Infinity),'!iz.Finite(Infinity)'
  ok !iz.Finite('NaN'),'!iz.Finite("NaN")'
  ok !iz.Finite('5'),'!iz.Finite("5")'
  ok !iz.Finite(no),'!iz.Finite(no)'
  ok !iz.Finite(new Number NaN),'!iz.Finite(new Number NaN)'
  ok !iz.Finite(new Number Infinity),'!iz.Finite(new Number Infinity)'
  ok !iz.Finite(new Number 5),'!iz.Finite(new Number 5)'
  ok !iz.Finite(new Number 0.1),'!iz.Finite(new Number 0.1)'
  ok !iz.Finite(void),'!iz.Finite(void)'
  ok !iz.Finite(null),'!iz.Finite(null)'
  ok !iz.Finite({}),'!iz.Finite({})'
  ok !iz.Finite(->),'!iz.Finite(->)'
  ok iz.Finite(-0),'iz.Finite(-0)'
test 'iz.Int(eger), iz.Int32, iz.UInt32, iz.UInt16',->
  ok iz.Fn(iz.Integer),'iz.Integer is function'
  equal iz.Integer,iz.Int,'iz.Integer equal iz.Int'
  ok !iz.Int(NaN),'!iz.Int(NaN)'
  ok iz.Int(1),'iz.Int(1)'
  ok !iz.Int(0.1),'!iz.Int(0.1)'
  ok iz.Int(-1),'iz.Int(-1)'
  ok iz.Int(2^16),'iz.Int(2^16)'
  ok iz.Int(2^16 - 1),'iz.Int(2^16 - 1)'
  ok iz.Int(2^31),'iz.Int(2^31)'
  ok iz.Int(2^31 - 1),'iz.Int(2^31 - 1)'
  ok iz.Int(2^32),'iz.Int(2^32)'
  ok iz.Int(2^32 - 1),'iz.Int(2^32 - 1)'
  ok !iz.Int(Infinity),'!iz.Int(Infinity)'
  ok !iz.Int('NaN'),'!iz.Int("NaN")'
  ok !iz.Int('5'),'!iz.Int("5")'
  ok !iz.Int(no),'!iz.Int(no)'
  ok !iz.Int(new Number NaN),'!iz.Int(new Number NaN)'
  ok !iz.Int(new Number Infinity),'!iz.Int(new Number Infinity)'
  ok !iz.Int(new Number 5),'!iz.Int(new Number 5)'
  ok !iz.Int(new Number 0.1),'!iz.Int(new Number 0.1)'
  ok !iz.Int(void),'!iz.Int(void)'
  ok !iz.Int(null),'!iz.Int(null)'
  ok !iz.Int({}),'!iz.Int({})'
  ok !iz.Int(->),'!iz.Int(->)'
  ok iz.Int(-0),'iz.Int(-0)'
  ok iz.Fn(iz.Int32),'iz.Int32 is function'
  ok !iz.Int32(NaN),'!iz.Int32(NaN)'
  ok iz.Int32(1),'iz.Int32(1)'
  ok !iz.Int32(0.1),'!iz.Int32(0.1)'
  ok iz.Int32(-1),'iz.Int32(-1)'
  ok iz.Int32(2^16),'iz.Int32(2^16)'
  ok iz.Int32(2^16 - 1),'iz.Int32(2^16 - 1)'
  ok !iz.Int32(2^31),'!iz.Int32(2^31)'
  ok iz.Int32(2^31 - 1),'iz.Int32(2^31 - 1)'
  ok !iz.Int32(2^32),'!iz.Int32(2^32)'
  ok !iz.Int32(2^32 - 1),'!iz.Int32(2^32 - 1)'
  ok !iz.Int32(Infinity),'!iz.Int32(Infinity)'
  ok !iz.Int32('NaN'),'!iz.Int32("NaN")'
  ok !iz.Int32('5'),'!iz.Int32("5")'
  ok !iz.Int32(no),'!iz.Int32(no)'
  ok !iz.Int32(new Number NaN),'!iz.Int32(new Number NaN)'
  ok !iz.Int32(new Number Infinity),'!iz.Int32(new Number Infinity)'
  ok !iz.Int32(new Number 5),'!iz.Int32(new Number 5)'
  ok !iz.Int32(new Number 0.1),'!iz.Int32(new Number 0.1)'
  ok !iz.Int32(void),'!iz.Int32(void)'
  ok !iz.Int32(null),'!iz.Int32(null)'
  ok !iz.Int32({}),'!iz.Int32({})'
  ok !iz.Int32(->),'!iz.Int32(->)'
  ok !iz.Int32(-0),'!iz.Int32(-0)'
  ok iz.Fn(iz.UInt32),'iz.UInt32 is function'
  ok !iz.UInt32(NaN),'!iz.UInt32(NaN)'
  ok iz.UInt32(1),'iz.UInt32(1)'
  ok !iz.UInt32(0.1),'!iz.UInt32(0.1)'
  ok !iz.UInt32(-1),'!iz.UInt32(-1)'
  ok iz.UInt32(2^16),'iz.UInt32(2^16)'
  ok iz.UInt32(2^16 - 1),'iz.UInt32(2^16 - 1)'
  ok iz.UInt32(2^31),'iz.UInt32(2^31)'
  ok iz.UInt32(2^31 - 1),'iz.UInt32(2^31 - 1)'
  ok !iz.UInt32(2^32),'!iz.UInt32(2^32)'
  ok iz.UInt32(2^32 - 1),'iz.UInt32(2^32 - 1)'
  ok !iz.UInt32(Infinity),'!iz.UInt32(Infinity)'
  ok !iz.UInt32('NaN'),'!iz.UInt32("NaN")'
  ok !iz.UInt32('5'),'!iz.UInt32("5")'
  ok !iz.UInt32(no),'!iz.UInt32(no)'
  ok !iz.UInt32(new Number NaN),'!iz.UInt32(new Number NaN)'
  ok !iz.UInt32(new Number Infinity),'!iz.UInt32(new Number Infinity)'
  ok !iz.UInt32(new Number 5),'!iz.UInt32(new Number 5)'
  ok !iz.UInt32(new Number 0.1),'!iz.UInt32(new Number 0.1)'
  ok !iz.UInt32(void),'!iz.UInt32(void)'
  ok !iz.UInt32(null),'!iz.UInt32(null)'
  ok !iz.UInt32({}),'!iz.UInt32({})'
  ok !iz.UInt32(->),'!iz.UInt32(->)'
  ok !iz.UInt32(-0),'!iz.UInt32(-0)'
  ok iz.Fn(iz.UInt16),'iz.UInt16 is function'
  ok !iz.UInt16(NaN),'!iz.UInt16(NaN)'
  ok iz.UInt16(1),'iz.UInt16(1)'
  ok !iz.UInt16(0.1),'!iz.UInt16(0.1)'
  ok !iz.UInt16(-1),'!iz.UInt16(-1)'
  ok !iz.UInt16(2^16),'!iz.UInt16(2^16)'
  ok iz.UInt16(2^16 - 1),'iz.UInt16(2^16 - 1)'
  ok !iz.UInt16(2^31),'!iz.UInt16(2^31)'
  ok !iz.UInt16(2^31 - 1),'!iz.UInt16(2^31 - 1)'
  ok !iz.UInt16(2^32),'!iz.UInt16(2^32)'
  ok !iz.UInt16(2^32 - 1),'!iz.UInt16(2^32 - 1)'
  ok !iz.UInt16(Infinity),'!iz.UInt16(Infinity)'
  ok !iz.UInt16('NaN'),'!iz.UInt16("NaN")'
  ok !iz.UInt16('5'),'!iz.UInt16("5")'
  ok !iz.UInt16(no),'!iz.UInt16(no)'
  ok !iz.UInt16(new Number NaN),'!iz.UInt16(new Number NaN)'
  ok !iz.UInt16(new Number Infinity),'!iz.UInt16(new Number Infinity)'
  ok !iz.UInt16(new Number 5),'!iz.UInt16(new Number 5)'
  ok !iz.UInt16(new Number 0.1),'!iz.UInt16(new Number 0.1)'
  ok !iz.UInt16(void),'!iz.UInt16(void)'
  ok !iz.UInt16(null),'!iz.UInt16(null)'
  ok !iz.UInt16({}),'!iz.UInt16({})'
  ok !iz.UInt16(->),'!iz.UInt16(->)'
  ok !iz.UInt16(-0),'!iz.UInt16(-0)'
if iz.$DESC => test 'iz.Accessor, iz.Getter, iz.Setter',->
  {defineProperty}=Object
  acs=defineProperty {},'q',{get:->,set:->}
  get=defineProperty {},'q',{get:->}
  set=defineProperty {},'q',{set:->}
  ok iz.Fn(iz.Accessor),\function,'iz.Accessor is function'
  ok iz.Accessor(acs,'q'),'iz.Accessor(acs,"q")'
  ok iz.Accessor(get,'q'),'iz.Accessor(get,"q")'
  ok iz.Accessor(set,'q'),"iz.Accessor(set,'q')"
  ok !iz.Accessor({},'q'),"!iz.Accessor({},'q')"
  ok iz.Accessor(^^acs,'q'),"iz.Accessor(^^acs,'q')"
  ok iz.Accessor(^^get,'q'),"iz.Accessor(^^get,'q')"
  ok iz.Accessor(^^set,'q'),"iz.Accessor(^^set,'q')"
  ok !iz.Accessor(void,'q'),"!iz.Accessor(void,'q')"
  ok iz.Fn(iz.Getter),'iz.Getter is function'
  ok iz.Getter(acs,'q'),"iz.Getter(acs,'q')"
  ok iz.Getter(get,'q'),"iz.Getter(get,'q')"
  ok !iz.Getter(set,'q'),"!iz.Getter(set,'q')"
  ok !iz.Getter({},'q'),"!iz.Getter({},'q')"
  ok iz.Getter(^^acs,'q'),"iz.Getter(^^acs,'q')"
  ok iz.Getter(^^get,'q'),"iz.Getter(^^get,'q')"
  ok !iz.Getter(^^set,'q'),"!iz.Getter(^^set,'q')"
  ok !iz.Getter(void,'q'),"!iz.Getter(void,'q')"
  ok iz.Fn(iz.Setter),'iz.Setter is function'
  ok iz.Setter(acs,'q'),"iz.Setter(acs,'q')"
  ok !iz.Setter(get,'q'),"!iz.Setter(get,'q')"
  ok iz.Setter(set,'q'),"iz.Setter(set,'q')"
  ok !iz.Setter({},'q'),"!iz.Setter({},'q')"
  ok iz.Setter(^^acs,'q'),"iz.Setter(^^acs,'q')"
  ok !iz.Setter(^^get,'q'),"!iz.Setter(^^get,'q')"
  ok iz.Setter(^^set,'q'),"iz.Setter(^^set,'q')"
  ok !iz.Setter(void,'q'),"!iz.Setter(void,'q')"
test 'iz.Same',->
  ok iz.Fn(iz.Same),'iz.Same is function'
  ok iz.Same(1,1),'iz.Same(1,1)'
  ok !iz.Same(0,-0),'!iz.Same(0,-0)'
  ok iz.Same(NaN,NaN),'iz.Same(NaN,NaN)'
  ok !iz.Same({},{}),'!iz.Same({},{})'
test 'iz.Equal',->
  ok iz.Fn(iz.Equal),'iz.Equal is function'
  ok iz.Equal(1,1),'iz.Equal(1,1)'
  ok !iz.Equal(1,2),'!iz.Equal(1,2)'
  ok !iz.Equal(0,-0),'!iz.Equal(0,-0)'
  ok iz.Equal({},{}),'iz.Equal({},{})'
  ok iz.Equal({q:1},{q:1}),'iz.Equal({q:1},{q:1})'
  ok !iz.Equal({q:1},{}),'!iz.Equal({q:1},{})'
  ok !iz.Equal({},[]),'!iz.Equal({},[])'
  ok iz.Equal({q:1,w:{q:1}},{q:1,w:{q:1}}),'iz.Equal({q:1,w:{q:1}},{q:1,w:{q:1}})'
  ok !iz.Equal({q:1,w:{q:1}},{q:1,w:{q:1,w:2}}),'!iz.Equal({q:1,w:{q:1}},{q:1,w:{q:1,w:2}})'
test 'flags in iz',->
  ok iz.Bool(iz.$PROTO),\iz.$PROTO
  ok iz.Bool(iz.$DESC),\iz.$DESC
test 'ES5 Object{getOwnPropertyDescriptor,defineProperty,defineProperties}',->
  ok iz.Fn(Object.getOwnPropertyDescriptor),'Object.getOwnPropertyDescriptor: iz.Fn(Object.getOwnPropertyDescriptor)'
  deepEqual Object.getOwnPropertyDescriptor(q:42,\q),{writable:on,enumerable:on,configurable:on,value:42},"Object.getOwnPropertyDescriptor: deepEqual Object.getOwnPropertyDescriptor(q:42,\q),{writable:on,enumerable:on,configurable:on,value:42}"
  equal Object.getOwnPropertyDescriptor({},\toString),void,"Object.getOwnPropertyDescriptor: equal Object.getOwnPropertyDescriptor({},\toString),void"
  ok iz.Fn(Object.defineProperty),'Object.defineProperty: iz.Fn(Object.defineProperty)'
  equal rez=Object.defineProperty(src={},\q,value:42),src,"Object.defineProperty: equal rez=Object.defineProperty(src={},\q,value:42),src"
  equal rez.q,42,'Object.defineProperty: equal rez.q,42'
  ok iz.Fn(Object.defineProperties),'Object.defineProperties: iz.Fn(Object.defineProperties)'
  equal rez=Object.defineProperties(src={},{q:{value:42},w:{value:33}}),src,'Object.defineProperties : equal rez=Object.defineProperties(src={},{q:{value:42},w:{value:33}}),src'
  ok (rez.q==42 and rez.w==33),'Object.defineProperties: rez.q==42 and rez.w==33'
test 'ES5 Object.create',->
  {create,getPrototypeOf,getPropertyNames}=Object
  ok iz.Fn(Object.create),'iz.Fn(Object.create)'
  ok iz.Proto(obj=q:1,create(obj)),'Object.create: iz.Proto(obj=q:1,create(obj))'
  equal create(obj)q,1,'Object.create: equal create(obj)q,1'
  fn=->@a=1
  ok create(new fn) instanceof fn,'Object.create: create(new fn) instanceof fn'
  equal getPrototypeOf(getPrototypeOf(create(new fn))),fn::,'Object.create: equal getPrototypeOf(getPrototypeOf(create(new fn))),fn::'
  equal create(new fn).a,1,'Object.create: equal create(new fn).a,1'
  equal create({},{a:{value:42}}).a,42,'Object.create: equal create({},{a:{value:42}}).a,42'
  ok iz.Obj(obj=create null,{w:value:2}),'Object.create: iz.Obj(obj=create null,{w:value:2})'
  ok !(\toString of obj),'Object.create: !("toString" of obj)'
  equal obj.w,2,'Object.create: equal obj.w,2'
  deepEqual getPropertyNames(create null),[],'Object.create: deepEqual getPropertyNames(create null),[]'
test 'ES5 Object.getPrototypeOf',->
  {create,getPrototypeOf}=Object
  ok iz.Fn(Object.getPrototypeOf),'Object.getPrototypeOf: iz.Fn(Object.getPrototypeOf)'
  equal getPrototypeOf({}),Object::,'Object.getPrototypeOf: equal getPrototypeOf({}),Object::'
  equal getPrototypeOf(new class fn),fn::,'Object.getPrototypeOf: equal getPrototypeOf(new class fn),fn::'
  equal getPrototypeOf(create obj=q:1),obj,'Object.getPrototypeOf: equal getPrototypeOf(create obj=q:1),obj'
  equal getPrototypeOf(create null),null,'Object.getPrototypeOf: equal getPrototypeOf(create null),null'
  equal getPrototypeOf(getPrototypeOf({})),null,'Object.getPrototypeOf: equal getPrototypeOf(getPrototypeOf({})),null'
test 'ES5 Object{keys,getOwnPropertyNames}',->
  {keys,getOwnPropertyNames}=Object
  fn1=(@w=2)->
  fn2=(@toString=2)->
  fn1::q=fn2::q=1
  ok iz.Fn(Object.keys),'Object.keys: iz.Fn(Object.keys)'
  deepEqual keys([1,2,3]),<[ 0 1 2 ]>,'Object.keys: deepEqual keys([1,2,3]),<[ 0 1 2 ]>'
  deepEqual keys(new fn1 1),<[ w ]>,'Object.keys: deepEqual keys(new fn1 1),<[ w ]>'
  deepEqual keys(new fn2 1),<[ toString ]>,'Object.keys: deepEqual keys(new fn2 1),<[ toString ]>'
  ok !(\join in keys(Array::)),'Object.keys: !("join" in keys(Array::))'
  ok !(\toString in keys(Object::)),'Object.keys: !("toString" in keys(Object::))'
  ok iz.Fn(Object.getOwnPropertyNames),'Object.getOwnPropertyNames: iz.Fn(Object.getOwnPropertyNames)'
  deepEqual getOwnPropertyNames([1,2,3]),<[ 0 1 2 length ]>,'Object.getOwnPropertyNames: deepEqual getOwnPropertyNames([1,2,3]),<[ 0 1 2 length ]>'
  deepEqual getOwnPropertyNames(new fn1 1),<[ w ]>,'Object.getOwnPropertyNames: deepEqual getOwnPropertyNames(new fn1 1),<[ w ]>'
  deepEqual getOwnPropertyNames(new fn2 1),<[ toString ]>,'Object.getOwnPropertyNames: deepEqual getOwnPropertyNames(new fn2 1),<[ toString ]>'
  ok \toString in getOwnPropertyNames(Array::),'Object.getOwnPropertyNames: "toString" in getOwnPropertyNames(Array::)'
  ok \toString in getOwnPropertyNames(Object::),'Object.getOwnPropertyNames: "toString" in getOwnPropertyNames(Object::)'
test 'ES5 Function.prototype.bind',->
  ok iz.Fn(Function::bind),'Function.prototype.bind: iz.Fn(Function::bind)'
  equal (->@a)bind(obj=a:42)!,42,'Function.prototype.bind: equal (->@a)bind(obj=a:42)!,42'
  equal new ((->)bind(obj))!a,void,'Function.prototype.bind: equal new ((->)bind(obj))!a,void'
  equal (->it)bind(null,42)!,42,'Function.prototype.bind: equal (->it)bind(null,42)!,42'
test 'ES5 Array.isArray',->
  {isArray}=Array
  ok iz.Fn(Array.isArray),'Array.isArray: iz.Fn(Array.isArray)'
  ok !isArray({}),'Array.isArray: !isArray({})'
  ok !isArray(do->&),'Array.isArray: !isArray(do->&)'
  ok isArray([]),'Array.isArray: isArray([])'
test 'ES5 Array.prototype methods',->
  ok iz.Fn(Array::indexOf),'Array.prototype.indexOf: iz.Fn(Array::indexOf)'
  equal [1,1,1]indexOf(1),0,'Array.prototype.indexOf: equal [1,1,1]indexOf(1),0'
  equal [1,2,3]indexOf(1,1),-1,'Array.prototype.indexOf: equal [1,2,3]indexOf(1,1),-1'
  equal [1,2,3]indexOf(2,1),1,'Array.prototype.indexOf: equal [1,2,3]indexOf(2,1),1'
  equal [NaN]indexOf(NaN),-1,'Array.prototype.indexOf: equal [NaN]indexOf(NaN),-1'
  equal Array(2)concat([1,2,3])indexOf(2),3,'Array.prototype.indexOf: equal Array(2)concat([1,2,3])indexOf(2),3'
  ok iz.Fn(Array::lastIndexOf),'Array.prototype.lastIndexOf: iz.Fn(Array::lastIndexOf)'
  equal [1,1,1]lastIndexOf(1),2,'Array.prototype.lastIndexOf: equal [1,1,1]lastIndexOf(1),2'
  equal [1,2,3]lastIndexOf(3,1),-1,'Array.prototype.lastIndexOf: equal [1,2,3]lastIndexOf(3,1),-1'
  equal [1,2,3]lastIndexOf(2,1),1,'Array.prototype.lastIndexOf: equal [1,2,3]lastIndexOf(2,1),1'
  equal [NaN]lastIndexOf(NaN),-1,'Array.prototype.lastIndexOf: equal [NaN]lastIndexOf(NaN),-1'
  equal [1,2,3]concat(Array 2)lastIndexOf(2),1,'Array.prototype.lastIndexOf: equal [1,2,3]concat(Array 2)lastIndexOf(2),1'
  ok iz.Fn(Array::every),'Array.prototype.every: iz.Fn(Array::every)'
  ok [1,2,3]every(iz.Num),'Array.prototype.every: [1,2,3]every(iz.Num)'
  ok [1,2,3]every((<4)),'Array.prototype.every: [1,2,3]every((<4))'
  ok ![1,2,3]every((<3)),'Array.prototype.every: ![1,2,3]every((<3))'
  ok ![1,2,3]every(iz.Str),'Array.prototype.every: ![1,2,3]every(iz.Str)'
  ok [1,2,3]every((->+@==1),1),'Array.prototype.every: [1,2,3]every((->+@==1),1)'
  rez='';[1,2,3]every(->rez+=&1)
  equal rez,\012,'Array.prototype.every 6'
  ok (arr=[1,2,3])every(->&2==arr),'Array.prototype.every 7'
  ok iz.Fn(Array::some),'some in Array.prototype'
  ok [1,\2,3]some(iz.Num),'Array.prototype.some 1'
  ok [1,2,3]some((<3)),'Array.prototype.some 2'
  ok ![1,2,3]some((<0)),'Array.prototype.some 3'
  ok ![1,2,3]some(iz.Str),'Array.prototype.some 4'
  ok ![1,2,3]some((->+@!=1),1),'Array.prototype.some 5'
  rez='';[1,2,3]some(->rez+=&1;no)
  equal rez,\012,'Array.prototype.some 6'
  ok !(arr=[1,2,3])some(->&2!=arr),'Array.prototype.some 7'
  ok iz.Fn(Array::forEach),'forEach in Array.prototype'
  rez='';[1,2,3]forEach ->rez+=it
  equal rez,'123','Array.prototype.forEach 1'
  rez='';[1,2,3]forEach ->rez+=&1
  equal rez,'012','Array.prototype.forEach 2'
  rez='';[1,2,3]forEach ->rez+=&2
  equal rez,'1,2,31,2,31,2,3','Array.prototype.forEach 3'
  rez='';[1,2,3]forEach (->rez+=@),1
  equal rez,'111','Array.prototype.forEach 4'
  rez='';arr=[];arr[5]=''
  arr.forEach (,k)->rez+=k
  equal rez,'5','Array.prototype.forEach 5'
  ok iz.Fn(Array::map),'map in Array.prototype'
  deepEqual [1,2,3]map(->++it),[2,3,4],'Array.prototype.map 1'
  deepEqual [1,2,3]map(->it+&1),[1,3,5],'Array.prototype.map 2'
  deepEqual [1,2,3]map(->&2[2]),[3,3,3],'Array.prototype.map 3'
  deepEqual [1,2,3]map((->+@),2),[2,2,2],'Array.prototype.map 4'
  ok iz.Fn(Array::filter),'filter in Array.prototype'
  ok iz.Fn(Array::reduce),'reduce in Array.prototype'
  ok iz.Fn(Array::reduceRight),'reduceRight in Array.prototype'
test 'ES5 String.prototype.trim',->
  ok \trim of String::,'trim in String.prototype'
  equal '   q w e \n  'trim!,'q w e','String.prototype.trim 1'
test 'ES5 Date.now',->
  ok iz.Fn(Date.now),'now in Date'
  ok +new Date - Date.now!<10,'Date.now 1'
test 'ES6 Object.is',->
  ok iz.Fn(Object.is),'Object.is is function'
  ok Object.is(1,1),'Object.is 1'
  ok !Object.is(0,-0),'Object.is 2'
  ok Object.is(NaN,NaN),'Object.is 3'
  ok !Object.is({},{}),'Object.is 4'
test 'ES6 Object{assign,mixin}',->
  ok iz.Fn(Object.assign),'Object.assign is function'
  ok iz.Fn(Object.mixin),'Object.mixin is function'
if \__proto__ of Object:: or iz.Native Object.setPrototypeOf => test 'ES6 Object.setPrototypeOf',->
  {setPrototypeOf}=Object
  ok iz.Fn(setPrototypeOf),'Object.setPrototypeOf is function'
  ok \apply of setPrototypeOf({},Function::),'Object.setPrototypeOf 1'
  ok setPrototypeOf({a:2},{b:->@a^2})b!==4,'Object.setPrototypeOf 2'
  equal setPrototypeOf(tmp={},{a:1}),tmp,'Object.setPrototypeOf 3'
  ok !(\toString of setPrototypeOf {},null),'Object.setPrototypeOf 4'
test 'ES6 Array{from,of}',->
  ok iz.Fn(Array.from),'Array.from is function'
  ok iz.Fn(Array.of),'Array.of is function'
test 'ES6 Array.prototype{find,findIndex}',->
  ok iz.Fn(Array::find),'Array.prototype.find is function'
  ok iz.Fn(Array::findIndex),'Array.prototype.findIndex is function'
test 'ES6 String.prototype{repeat,startsWith,endsWith,contains,codePointAt}',->
  ok iz.Fn(String::repeat),'String.prototype.repeat is function'
  ok iz.Fn(String::startsWith),'String.prototype.startsWith is function'
  ok iz.Fn(String::endsWith),'String.prototype.endsWith is function'
  ok iz.Fn(String::contains),'String.prototype.contains is function'
  ok iz.Fn(String::codePointAt),'String.prototype.codePointAt is function'
test 'ES6 Number props',->
  ok \EPSILON of Number,'Number.EPSILON 1'
  equal Number.EPSILON,2.220446049250313e-16,'Number.EPSILON 2'
  ok !(1==1+Number.EPSILON),'Number.EPSILON 3'
  ok 1==1+Number.EPSILON/2,'Number.EPSILON 4'
  ok \MAX_INTEGER of Number,'Number.MAX_INTEGER 1'
  equal Number.MAX_INTEGER,16~20000000000000,'Number.MAX_INTEGER 2'
  equal Number.MAX_INTEGER,Number.MAX_INTEGER+1,'Number.MAX_INTEGER 3'
  ok Number.MAX_INTEGER!=Number.MAX_INTEGER-1,'Number.MAX_INTEGER 4'
  ok iz.Fn(Number.parseInt),'Number.parseInt 1'
  ok iz.Fn(Number.parseFloat),'Number.parseFloat 1'
  ok iz.Fn(Number.isNaN),'Number.isNaN 1'
  ok iz.Fn(Number.isFinite),'Number.isFinite 1'
  ok iz.Fn(Number.isInteger),'Number.isInteger 1'
  ok iz.Fn(Number.toInteger),'Number.toInteger 1'
test 'ES6 Map',->
  ok \Map of global,'\\Map of global'
  ok iz.Function(global.Map),'iz.Function global.Map'
  ok new Map instanceof Map,'new Map instanceof Map'
  ok Map! instanceof Map,'Map! instanceof Map'
  ok \clear of Map::,'\\clear of Map::'
  ok \delete of Map::,'\\delete of Map::'
  ok \forEach of Map::,'\\forEach of Map::'
  ok \get of Map::,'\\get of Map::'
  ok \has of Map::,'\\has of Map::'
  ok \set of Map::,'\\set of Map::'
test 'ES6 Set',->
  ok \Set of global,'\\Set of global'
  ok iz.Function(global.Set),'iz.Function global.Set'
  ok new Set instanceof Set,'new Set instanceof Set'
  ok Set! instanceof Set,'Set! instanceof Set'
  ok \add of Set::,'\\add of Set::'
  ok \clear of Set::,'\\clear of Set::'
  ok \delete of Set::,'\\delete of Set::'
  ok \forEach of Set::,'\\forEach of Set::'
  ok \has of Set::,'\\has of Set::'
test \Function,->
  equal {}toString.unbind!(\qwe),'[object String]','Function.prototype.unbind 1'
  equal []reduce.unbind!(\qwe,((a,b)->b+a),''),'ewq','Function.prototype.unbind 2'
  obj={a:42}
  obj.fn=(->it.a)methodize!
  equal obj.fn!,42,'Function.prototype.methodize 1'
  num=new Number 42
  num.fn=((a,b)->a+b)methodize!
  equal num.fn(21),63,'Function.prototype.methodize 2'
  equal iz.Class.part(\qwe)!,\String,'Function.prototype.part 1'
  obj={a:42}
  obj.fn=(->@a+it)part 21
  equal obj.fn!,63,'Function.prototype.part 2'
  fn=(q,w,e,a,s,d)->q+w+e+a+s+d
  equal fn.partial([,,'e',,'s','d','z'])('q','w','a','x'),'qweasd','Function.prototype.partial 1'
  fn1=(q,w,e,a,s,d)->@+q+w+e+a+s+d
  equal fn1.partial([,,'e',,'s','d','z'],'zxc')('q','w','a','x'),'zxcqweasd','Function.prototype.partial 2'
  (->
    equal val,1,'Function.prototype.immediate 1'
    start!
  )immediate!
  val=1;
  stop()
test 'Object enumerable',->
  {each,forOwnKeys,forKeys,forOwnNames,forNames,map,filter,every,some,reduce,indexOf,find,findIndex,make}=Object
  ok iz.Fn(each),'iz.Fn(Object.each)'
  ok iz.Fn(forOwnKeys),'iz.Fn(Object.forOwnKeys)'
  equal each,forOwnKeys,'Object.each equal Object.forOwnKeys'
  rez={};each {q:1,w:2},(->rez[&1]=&0+@),'_'
  deepEqual rez,{q:'1_',w:'2_'},'Object.forOwnKeys key,val,this'
  rez=on;each obj={q:1,w:2},->rez&&=(obj==&2)
  ok rez,'Object.forOwnKeys &2'
  rez={};each make({e:3},{q:1,w:2}),->rez[&1]=&0
  ok !(\e of rez),'Object.forOwnKeys own'
  rez={};each [1,2],->rez[&1]=&0
  ok !(\length of rez),'Object.forOwnKeys enum'
  rez={};each '123',->rez[&1]=&0
  ok \2 of rez,'Object.forOwnKeys string'
  ok iz.Fn(forKeys),'iz.Fn(Object.forKeys)'
  rez={};forKeys {q:1,w:2},(->rez[&1]=&0+@),'_'
  deepEqual rez,{q:'1_',w:'2_'},'Object.forKeys key,val,this'
  rez=on;forKeys obj={q:1,w:2},->rez&&=(obj==&2)
  ok rez,'Object.forKeys &2'
  rez={};forKeys make({e:3},{q:1,w:2}),->rez[&1]=&0
  ok \e of rez,'Object.forKeys own'
  rez={};forKeys [1,2],->rez[&1]=&0
  ok !(\length of rez),'Object.forKeys enum'
  rez={};forKeys '123',->rez[&1]=&0
  ok \2 of rez,'Object.forKeys string'
  ok iz.Fn(forOwnNames),'iz.Fn(Object.forOwnNames)'
  rez={};forOwnNames {q:1,w:2},(->rez[&1]=&0+@),'_'
  deepEqual rez,{q:'1_',w:'2_'},'Object.forOwnNames key,val,this'
  rez=on;forOwnNames obj={q:1,w:2},->rez&&=(obj==&2)
  ok rez,'Object.forOwnNames &2'
  rez={};forOwnNames make({e:3},{q:1,w:2}),->rez[&1]=&0
  ok !(\e of rez),'Object.forOwnNames own'
  rez={};forOwnNames [1,2],->rez[&1]=&0
  ok \length of rez,'Object.forOwnNames enum'
  rez={};forOwnNames '123',->rez[&1]=&0
  ok \2 of rez,'Object.forOwnNames string'
  ok iz.Fn(forNames),'iz.Fn(Object.forNames)'
  rez={};forNames {q:1,w:2},(->rez[&1]=&0+@),'_'
  equal rez.q,'1_','Object.forNames key,val,this'
  rez=on;forNames obj={q:1,w:2},->rez&&=(obj==&2)
  ok rez,'Object.forNames &2'
  rez={};forNames make({e:3},{q:1,w:2}),->rez[&1]=&0
  ok \e of rez,'Object.forNames own'
  rez={};forNames [1,2],->rez[&1]=&0
  ok \length of rez,'Object.forNames enum'
  rez={};forNames '123',->rez[&1]=&0
  ok \2 of rez,'Object.forNames string'
  ok iz.Fn(map),'iz.Fn(Object.map)'
  ok iz.Fn(filter),'iz.Fn(Object.filter)'
  ok iz.Fn(every),'iz.Fn(Object.every)'
  ok iz.Fn(some),'iz.Fn(Object.some)'
  ok iz.Fn(reduce),'iz.Fn(Object.reduce)'
  ok iz.Fn(indexOf),'iz.Fn(Object.indexOf)'
  ok iz.Fn(find),'iz.Fn(Object.find)'
  ok iz.Fn(findIndex),'iz.Fn(Object.findIndex)'
test 'Object.merge',->
  class fn
    w:{q:1,w:2}
    q:1
    e:2
  obj = {w:{q:2,e:5},r:1,e:1}
  i1 = new fn
  i2 = Object.merge i1,obj
  ok i1==i2,'simple merge 1'
  ok i1.q==1,'simple merge 2'
  ok i1.r==1,'simple merge 3'
  ok i1.w==obj.w,'simple merge 4'
  ok i1.e==1,'simple merge 4'
  i1 = Object.merge new fn,obj,1
  ok i1.q==1,'deep merge 1'
  ok i1.r==1,'deep merge 2'
  ok i1.w!=obj.w,'deep merge 3'
  ok i1.w.q==2,'deep merge 4'
  ok i1.w.w==2,'deep merge 5'
  i1=Object.merge {w:{q:1,w:2},q:1,e:2},obj,0,1
  ok i1.q==1,'reverse merge 1'
  ok i1.r==1,'reverse merge 2'
  ok i1.e==2,'reverse merge 3'
  ok i1.w.q==1,'reverse merge 4'
  ok i1.w.w==2,'reverse merge 5'
  ok i1.w.e!=5,'reverse merge 6'
  i1 = Object.merge {w:{q:1,w:2},q:1,e:2},obj,1,1
  ok i1.q==1,'reverse deep merge 1'
  ok i1.r==1,'reverse deep merge 2'
  ok i1.e==2,'reverse deep merge 3'
  ok i1.w.q==1,'reverse deep merge 4'
  ok i1.w.w==2,'reverse deep merge 5'
  ok i1.w.e==5,'reverse deep merge 6'
test 'Object.clone',->
  equal Object.clone(null),null,'null'
  equal Object.clone(void),void,'undefined'
  equal Object.clone(\qwe),\qwe,'primitive string'
  equal Object.clone(123),123,'primitive number'
  ok !Object.clone(no),'primitive bool'
  i1=new String \qwe
  i2=Object.clone i1
  ok i1!=i2,'String 1'
  equal i1.valueOf!,i2.valueOf!,'String 2'
  i1=new Number 123
  i2=Object.clone i1
  ok i1!=i2,'Number 1'
  equal i1.valueOf!,i2.valueOf!,'Number 2'
  i1=new Boolean no
  i2=Object.clone i1
  ok i1!=i2,'Boolean 1'
  equal i2.valueOf!,no,'Boolean 2'
  i1=new Date 1350861246986
  i2=Object.clone i1
  ok i1!=i2,'Date 1'
  equal i2.getTime!,1350861246986,'Date 2'
  i1=/q/i
  i2=Object.clone i1
  ok i1!=i2,'RegExp 1'
  equal i2.toString!,'/q/i','RegExp 2'
  ok i2.test(\Q),'RegExp 3'
  i1=[1,2,3]
  i2=Object.clone i1
  ok i1!=i2,'Array 1'
  equal i2[2],3,'Array 2'
  equal i2.length,3,'Array 3'
  equal i2.constructor,Array,'Array 4'
  i1={q:123,w:'qwe'}
  i2=Object.clone i1
  ok i1!=i2,'simple Object 1'
  equal i2.q,123,'simple Object 2'
  equal i2.w,'qwe','simple Object 3'
  i1={q:{q:1}}
  i2=Object.clone i1,1
  ok i1.q!=i2.q,'deep 1'
  ok i1.q.q==i2.q.q,'deep 2'
  i1={q:{}}
  i2=Object.clone i1
  ok i1.q==i2.q,'no deep 1'
  i1=[/^qwe$/]
  i2=Object.clone i1,1
  ok i1[0]!=i2[0],'array deep 1'
  ok i2[0].test(\qwe),'array deep 2'
  ok !i2[0].test(\qwer),'array deep 3'
  fn=->@q=1
  i1=new fn
  i2=Object.clone i1
  ok i1!=i2,'proto 1'
  equal i2.q,1,'proto 2'
  equal Object.getPrototypeOf(i1),Object.getPrototypeOf(i2),'proto 3'
  i1=Object.create {q:1}
  i2=Object.clone i1
  ok i1!=i2,'proto create 1'
  equal i2.q,1,'proto create 2'
  equal Object.getPrototypeOf(i1),Object.getPrototypeOf(i2),'proto create 3'
  if iz.DESC
    i1=Object.defineProperty {},'q',{get:(->42),enumerable:on}
    i2=Object.clone i1,0,1
    ok i1!=i2,'desc 1'
    ok i1.q==i2.q,'desc 2'
    equal typeof Object.getOwnPropertyDescriptor(i2,'q'),'object','desc 3'
    equal typeof Object.getOwnPropertyDescriptor(i2,'q').get,'function','desc 4'
    i1={q:Object.defineProperty {},\q,{get:(->52)}}
    i2=Object.clone i1,1,1
    ok i1.q!=i2.q,'deep desc 1'
    ok i1.q.q==i2.q.q,'deep desc 2'
    equal typeof Object.getOwnPropertyDescriptor(i2.q,\q),\object,'deep desc 3'
    equal typeof Object.getOwnPropertyDescriptor(i2.q,\q).get,\function,'deep desc 4'
test \Object,->
  equal Object.toPrimitive({}),'[object Object]','Object.toPrimitive 2'
  equal Object.toPrimitive(toString:->\rez),'rez','Object.toPrimitive 3'
  equal Object.toPrimitive(new Boolean no),no,'Object.toPrimitive 4'
  equal Object.toPrimitive(42),42,'Object.toPrimitive 5'
  equal Object.values({q:1,w:2,e:3})length,3,'Object.values 1'
  ok Object.values({q:1,w:2,e:3})indexOf(3)!=-1,'Object.values 2'
  obj=Object.defaults {q:1,w:{q:1}},{q:2,w:{w:2},e:3}
  equal obj.q,1,'Object.defaults 1'
  equal obj.w.q,1,'Object.defaults 2'
  equal obj.w.w,2,'Object.defaults 3'
  equal obj.e,3,'Object.defaults 4'
test \Array,->
  deepEqual Array.of(1,2,3),[1,2,3],'Array.of 1'
  deepEqual Array.from(\123),<[1 2 3]>,'Array.from 1'
  deepEqual Array.from((->&)(1,2,3)),[1,2,3],'Array.from 2'
  ok [1,2,3]has(2),'Array.prototype.has 1'
  ok ![1,2,3]has(4),'Array.prototype.has 2'
  ok Array.has(\123,'2'),'Array.has 1'
  ok !Array.has(\123,'4'),'Array.has 2'
  ok Array.has((->&)(1,2,3),2),'Array.has 9'
  ok !Array.has((->&)(1,2,3),4),'Array.has 10'
  ok ![1,2,3]none(2),'Array.prototype.none 1'
  ok [1,2,3]none(4),'Array.prototype.none 2'
  ok !Array.none(\123,'2'),'Array.none 1'
  ok Array.none(\123,'4'),'Array.none 2'
  ok !Array.none((->&)(1,2,3),2),'Array.none 9'
  ok Array.none((->&)(1,2,3),4),'Array.none 10'
  equal [1,2,3]count(2),1,'Array.prototype.count 1'
  equal [1,2,3]count(4),0,'Array.prototype.count 2'
  equal [1,2,3]count(/3/),1,'Array.prototype.count 3'
  equal [1,2,3]count(/4/),0,'Array.prototype.count 4'
  equal [1,2,'3']count(iz.Num),2,'Array.prototype.count 5'
  equal [1,2,'3']count(iz.Str),1,'Array.prototype.count 6'
  equal Array.count(\123,'2'),1,'Array.count 1'
  equal Array.count(\123,'4'),0,'Array.count 2'
  equal Array.count(\123,/[23]/),2,'Array.count 3'
  equal Array.count(\123,/4/),0,'Array.count 4'
  equal Array.count(\123,iz.Str),3,'Array.count 5'
  equal Array.count(\123,iz.Num),0,'Array.count 6'
  equal Array.count((->&)(1,2,3),2),1,'Array.count 9'
  equal Array.count((->&)(1,2,3),4),0,'Array.count 10'
  equal Array.count((->&)(1,2,3),/[13]/),2,'Array.count 11'
  equal Array.count((->&)(1,2,3),/4/),0,'Array.count 12'
  equal Array.count((->&)(1,2,3),iz.Num),3,'Array.count 13'
  equal Array.count((->&)(1,2,3),iz.Str),0,'Array.count 14'
  equal [1,2,3]sum!,6,'Array.prototype.sum 1'
  equal [[2],[2],[3]]sum(0),7,'Array.prototype.sum 2'
  equal [{q:3},{q:3},{q:3}]sum(\q),9,'Array.prototype.sum 3'
  equal [1,2,3]sum((^2)),14,'Array.prototype.sum 4'
  equal Array.sum(\123),6,'Array.sum 1'
  equal Array.sum(\123,(^2)),14,'Array.sum 2'
  equal Array.sum((->&)(1,2,3)),6,'Array.sum 5'
  equal Array.sum((->&)(1,2,3),(^2)),14,'Array.sum 6'
  equal [1,2,3]avg!,2,'Array.prototype.avg 1'
  equal [[2],[4],[6]]avg(0),4,'Array.prototype.avg 2'
  equal [{q:3},{q:3},{q:3}]avg(\q),3,'Array.prototype.avg 3'
  equal [1,2,3,4]avg((^2)),7.5,'Array.prototype.avg 4'
  equal Array.avg(\123),2,'Array.avg 1'
  equal Array.avg(\1234,(^2)),7.5,'Array.avg 2'
  equal Array.avg((->&)(1,2,3)),2,'Array.avg 4'
  equal Array.avg((->&)(1,2,3,4),(^2)),7.5,'Array.avg 5'
  deepEqual [1,2,3,2,1]unique!,[1,2,3],'Array.prototype.unique 1'
  deepEqual Array.unique(\12321),<[1 2 3]>,'Array.unique 1'
  deepEqual Array.unique((->&)(1,2,3,2,1)),[1,2,3],'Array.unique 2'
  deepEqual [1,2,3,2,1]cross([2,5,7,1]),[1,2],'Array.prototype.cross 1'
  deepEqual <[1 2 3 2 1]>cross(\2571),<[1 2]>,'Array.prototype.cross 2'
  deepEqual [1,2,3,2,1]cross((->&)(2,5,7,1)),[1,2],'Array.prototype.cross 3'
  equal [1,2,3]last!,3,'Array.prototype.last 1'
  equal []last!,void 0,'Array.prototype.last 2'
  deepEqual Array.map(\123,(^2)),[1,4,9],'Array.map 1'
  deepEqual Array.map((->&)(1,2,3),(^2)),[1,4,9],'Array.map 2'
  equal Array.reduce(\123,((+a,+b)->a+b)),6,'Array.reduce 1'
  equal Array.reduce((->&)(1,2,3),(a,b)->''+b*b+a),'941','Array.reduce 2'
  equal Array.reduce(\123,((+a,+b)->a+b),1),7,'Array.reduce 3'
  equal Array.reduceRight(\123,((+a,+b)->a+b)),6,'Array.reduceRight 1'
  equal Array.reduceRight((->&)(1,2,3),(a,b)->''+b*b+a),'143','Array.reduceRight 2'
  equal Array.reduceRight(\123,((+a,+b)->a+b),1),7,'Array.reduceRight 3'
  deepEqual Array.filter(\123,->it>1),<[2 3]>,'Array.filter 1'
  deepEqual Array.filter((->&)(1,2,3),->it<3),[1,2],'Array.filter 2'
  deepEqual Array.filter(\123,->&1!=1),<[1 3]>,'Array.filter 3'
  val=''
  Array.forEach \123,(v,k,t)->val+=v+k+t
  equal val,\101232112332123,'Array.forEach 1'
  val=''
  Array.forEach (->&)(1,2,3),(v,k,t)->val+=v+k+t[2]
  equal val,\468,'Array.forEach 2'
  val=''
  Array.forEach \123,((v,k,t)->val+=v+k+t+@),1
  equal val,\101231211231321231,'Array.forEach 3'
  ok Array.every(\123,iz.Str),'Array every 1'
  ok Array.every(\123,->&1k<3),'Array every 2'
  ok !Array.every(\123,iz.Num),'Array every 3'
  ok !Array.every(\123,->&1<2),'Array every 4'
  ok Array.every(\123,->&2~=\123),'Array every 5'
  ok Array.every((->&)(1,2,3),iz.Num),'Array every 6'
  ok Array.some(\123,iz.Str),'Array some 1'
  ok Array.some(\123,->&1>1),'Array some 2'
  ok !Array.some(\123,iz.Num),'Array some 3'
  ok !Array.some(\123,->&1>3),'Array some 4'
  ok Array.some(\123,->&2~=\123),'Array some 5'
  ok Array.some((->&)(1,2,3),iz.Num),'Array some 6'
  deepEqual Array.reverse((->&)(1,2,3)),{0:3,1:2,2:1},'Array.reverse 1'
  equal Array.join(\123,\|),\1|2|3,'Array.join 1'
  equal Array.join((->&)(3,2,1),\|),\3|2|1,'Array.join 2'
  equal Array.pop(args=(->&)(1,2,3)),3,'Array.pop 1'
  deepEqual args,{0:1,1:2},'Array.pop 2'
  Array.push(args=(->&)(1,2,3),4,5)
  deepEqual args,{0:1,1:2,2:3,3:4,4:5},'Array.push 1'
  equal Array.shift(args=(->&)(1,2,3)),1,'Array.shift 1'
  deepEqual args,{0:2,1:3},'Array.shift 2'
  Array.unshift(args=(->&)(1,2,3),4,5)
  deepEqual args,{0:4,1:5,2:1,3:2,4:3},'Array.unshift 1'
  deepEqual Array.slice(\123),<[1 2 3]>,'Array.slice 1'
  deepEqual Array.slice(\123,1),<[2 3]>,'Array.slice 2'
  deepEqual Array.slice(\123,1,2),<[2]>,'Array.slice 3'
  deepEqual Array.slice(\123,1,-1),<[2]>,'Array.slice 4'
  deepEqual Array.slice((->&)(1,2,3)),[1,2,3],'Array.slice 5'
  deepEqual Array.slice((->&)(1,2,3),1),[2,3],'Array.slice 6'
  deepEqual Array.slice((->&)(1,2,3),1,2),[2],'Array.slice 7'
  deepEqual Array.slice((->&)(1,2,3),1,-1),[2],'Array.slice 8'
  Array.splice(args=(->&)(1,2,3),1,0,4,5)
  deepEqual args,{0:1,1:4,2:5,3:2,4:3},'Array.splice 1'
  Array.splice(args=(->&)(1,2,3),1,1,4)
  deepEqual args,{0:1,1:4,2:3},'Array.splice 2'
  Array.splice(args=(->&)(1,2,3),1,1)
  deepEqual args,{0:1,1:3},'Array.splice 3'
  deepEqual Array.sort((->&)(2,1,3)),{0:1,1:2,2:3},'Array.sort 1'
  deepEqual Array.sort((->&)(11,2,3)),{0:11,1:2,2:3},'Array.sort 2'
  deepEqual Array.sort((->&)(11,2,3),(a,b)->a - b),{0:2,1:3,2:11},'Array.sort 3'
  equal Array.indexOf(\111,\1),0,'Array.indexOf 1'
  equal Array.indexOf(\123,\1,1),-1,'Array.indexOf 2'
  equal Array.indexOf(\123,\2,1),1,'Array.indexOf 3'
  equal Array.indexOf((->&)(1,1,1),1),0,'Array.indexOf 4'
  equal Array.indexOf((->&)(1,2,3),1,1),-1,'Array.indexOf 5'
  equal Array.indexOf((->&)(1,2,3),2,1),1,'Array.indexOf 6'
  equal Array.lastIndexOf(\111,\1),2,'Array.lastIndexOf 1'
  equal Array.lastIndexOf(\123,\3,1),-1,'Array.lastIndexOf 2'
  equal Array.lastIndexOf(\123,\2,1),1,'Array.lastIndexOf 3'
  equal Array.lastIndexOf((->&)(1,1,1),1),2,'Array.lastIndexOf 4'
  equal Array.lastIndexOf((->&)(1,2,3),3,1),-1,'Array.lastIndexOf 5'
  equal Array.lastIndexOf((->&)(1,2,3),2,1),1,'Array.lastIndexOf 6'
test \Number,->
  equal (-7)div(3),-2,'equal (-7)div(3),-2'
  equal 7.div(3),2,'equal 7.div(3),2'
  deepEqual 5.times(->it),[0,1,2,3,4],'deepEqual 5.times(->it),[0,1,2,3,4]'
  deepEqual 5.times(->it+&1),[0,2,4,6,8],'deepEqual 5.times(->it+&1),[0,2,4,6,8]'
  deepEqual 5.times(->it+&1+&2),[5,7,9,11,13],'deepEqual 5.times(->it+&1+&2),[5,7,9,11,13]'
  deepEqual 5.times(->(@.|.0)+it+&1+&2),[5,7,9,11,13],'deepEqual 5.times(->(@.|.0)+it+&1+&2),[5,7,9,11,13]'
  deepEqual 5.times((->(@.|.0)+it+&1+&2),1),[6,8,10,12,14],'deepEqual 5.times((->(@.|.0)+it+&1+&2),1),[6,8,10,12,14]'
test \RegExp,->
  equal /./gmi.getFlag!length,3,'equal /./gmi.getFlag!length,3'
  equal /tvbrtbtrf/i.getFlag!,\i,'equal /tvbrtbtrf/i.getFlag!,\\i'
  equal /./gmi.setFlag(\i)toString!,'/./i',"equal /./gmi.setFlag(\\i)toString!,'/./i'"
  equal /./i.setFlag(\gmi)getFlag!length,3,'equal /./i.setFlag(\\gmi)getFlag!length,3'
  equal /./.addFlag(\i)toString!,'/./i',"equal /./.addFlag(\\i)toString!,'/./i'"
  equal /./i.addFlag(\g)getFlag!length,2,'equal /./i.addFlag(\\g)getFlag!length,2'
  equal /./gmi.removeFlag(\g)removeFlag(\i)toString!,'/./m',"equal /./gmi.removeFlag(\\g)removeFlag(\\i)toString!,'/./m'"
  equal /./i.removeFlag(\g)toString!,'/./i',"equal /./i.removeFlag(\\g)toString!,'/./i'"
test 'console',->
  ok iz.Fn(global.console),'console is function'
  ok (try console m='call console';on),m
  ok (try console.call null,m='call console in another context';on),m
  ok iz.Fn(console.log),'console.log is function'
  equal console,console.log,'console.log equal console'
  ok iz.Fn(console.warn),'console.warn is function'
  ok (try console.warn m='call console.warn';on),m
  ok (try console.warn.call null,m='call console.warn in another context';on),m
  ok iz.Fn(console.error),'console.error is function'
  ok (try console.error m='call console.error';on),m
  ok (try console.error.call null,m='call console.error in another context';on),m
  ok iz.Fn(console.info),'console.info is function'
  ok (try console.info m='call console.info';on),m
  ok (try console.info.call null,m='call console.info in another context';on),m
  ok iz.Fn(console.time),'console.time is function'
  ok iz.Fn(console.timeEnd),'console.timeEnd is function'
  ok (try console.time m='call console.time';on),m
  ok (try console.timeEnd m;on),'call console.timeEnd'
  ok (try console.time.call null,m='call console.time in another context';on),m
  ok (try console.timeEnd.call null,m;on),'call console.timeEnd in another context'
  ok iz.Fn(console.assert),'console.assert is function'
  ok (try console.assert false,m='call console.assert';on),m
  ok (try console.assert.call null,false,m='call console.assert in another context';on),m
  ok iz.Fn(console.count),'console.count is function'
  ok (try console.count m='call console.count';on),m
  ok (try console.count.call null,m='call console.count in another context';on),m
  ok iz.Fn(console.debug),'console.debug is function'
  ok (try console.debug m='call console.debug';on),m
  ok (try console.debug.call null,m='call console.debug in another context';on),m
  ok iz.Fn(console.dir),'console.dir is function'
  ok (try console.dir {q:1,w:2,e:3};on),'call console.dir'
  ok (try console.dir.call null,{q:1,w:2,e:3};on),'call console.dir in another context'
  ok iz.Fn(console.dirxml),'console.dirxml is function'
  ok (try console.dirxml document?.getElementById 'qunit-header';on),'call console.dirxml'
  ok (try console.dirxml.call null,document?.getElementById 'qunit-header';on),'call console.dirxml in another context'
  ok iz.Fn(console.table),'console.table is function'
  ok (try console.table [['q','w'],['a','call console.table']];on),'call console.table'
  ok (try console.table.call null,[['q','w'],['a','call console.table']];on),'call console.table in another context'
  ok iz.Fn(console.trace),'console.trace is function'
  ok (try console.trace!;on),'call console.trace'
  ok (try console.trace.call null;on),'call console.trace in another context'
  ok iz.Fn(console.group),'console.group is function'
  ok iz.Fn(console.groupCollapsed),'console.groupCollapsed is function'
  ok iz.Fn(console.groupEnd),'console.groupEnd is function'
  ok (try console.group m='call console.group';on),m
  ok (try console.groupEnd m;on),'call console.groupEnd'
  ok (try console.group.call null,m='call console.group in another context';on),m
  ok (try console.groupEnd.call null,m;on),'call console.groupEnd in another context'
  ok (try console.groupCollapsed m='call console.groupCollapsed';console.groupEnd m;on),m
  ok (try console.groupCollapsed.call null,m='call console.groupCollapsed in another context';console.groupEnd.call null,m;on),m
  ok iz.Fn(console.markTimeline),'console.markTimeline is function'
  ok iz.Fn(console.profile),'console.profile is function'
  ok iz.Fn(console.profileEnd),'console.profileEnd is function'
  ok (try !console.profile 'qwe'),'call console.profile'
  ok (try !console.profileEnd 'qwe'),'call console.profileEnd'
  ok (try !console.profile.call null,'asd'),'call console.profile in another context'
  ok (try !console.profileEnd.call null,'asd'),'call console.profileEnd in another context'
</script>
<script src="livescript.js"></script>